<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Redhat4安装Oracle10注意事项 | Dragon_SZ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="注意事项如下:1. 硬件要求1.swap 分区不低于2G2.selinux 状态disable3.物理内存不低于512M2. 系统要求redhat Enterprise 5 默认安装3.  数据库要求3.1.软件下载根据实际环环境从oracle官方网站下载相应的数据库http://www.oracle.com/technology/software/products/database/index.">
<meta property="og:type" content="article">
<meta property="og:title" content="Redhat4安装Oracle10注意事项">
<meta property="og:url" content="http://longlongblog.cn/2013/11/20/50/index.html">
<meta property="og:site_name" content="Dragon_SZ">
<meta property="og:description" content="注意事项如下:1. 硬件要求1.swap 分区不低于2G2.selinux 状态disable3.物理内存不低于512M2. 系统要求redhat Enterprise 5 默认安装3.  数据库要求3.1.软件下载根据实际环环境从oracle官方网站下载相应的数据库http://www.oracle.com/technology/software/products/database/index.">
<meta property="og:updated_time" content="2016-05-25T08:09:41.112Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Redhat4安装Oracle10注意事项">
<meta name="twitter:description" content="注意事项如下:1. 硬件要求1.swap 分区不低于2G2.selinux 状态disable3.物理内存不低于512M2. 系统要求redhat Enterprise 5 默认安装3.  数据库要求3.1.软件下载根据实际环环境从oracle官方网站下载相应的数据库http://www.oracle.com/technology/software/products/database/index.">
  
    <link rel="alternative" href="/atom.xml" title="Dragon_SZ" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Dragon_SZ</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">http://longlongblog.cn</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://longlongblog.cn"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-50" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/11/20/50/" class="article-date">
  <time datetime="2013-11-20T04:32:34.000Z" itemprop="datePublished">2013-11-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Redhat4安装Oracle10注意事项
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><span style="font-size:14px">注意事项如下:<br>1. 硬件要求<br>1.swap 分区不低于2G<br>2.selinux 状态disable<br>3.物理内存不低于512M<br>2. 系统要求<br>redhat Enterprise 5 默认安装<br>3.  数据库要求<br>3.1.软件下载<br>根据实际环环境从<a href="http://www.itpub.net/pubtree/?node=1" target="_blank" rel="external">oracle</a>官方网站下载相应的数据库<br><a href="http://www.oracle.com/technology/software/products/database/index.html" target="_blank" rel="external">http://www.oracle.com/technology/software/products/database/index.html</a><br>3.2.解包<br>unzip 10201_database_linux32.zip<br>解包完成后后将database目录拷贝到/opt目录下，以便oracle用户安装使用<br>4.redhat配置<br>4.1         安装缺失的包<br>用 root 用户身份运行以下命令：<br>rpm -q gcc make binutils openmotif setarch compat-db compat-gcc compat-gcc-c++ compat-libstdc++ compat-libstdc++-devel<br>如果采用默认安装，该命令执行后通常会提示openmotif，compat-db，compat-gcc，compat-gcc-c++,compat-libstdc++,compat-libstdc++-devel 没有安装。如下所示</span></p>
<pre><code>gcc-4.1.1-52.el5
make-3.81-1.1
binutils-2.17.50.0.6-2.el5
package openmotif is not installed
setarch-2.0-1.1
package compat-db is not installed
package compat-gcc is not installed
package compat-gcc-c++ is not installed
package compat-libstdc++ is not installed
package compat-libstdc++-devel is not installed
</code></pre><p>对缺失的包需要通过光盘或其他介质安装，笔者采用光盘安装</p>
<p>4.1.1          在/mnt 下创建cdrom<br>4.1.2          将光盘放入光驱<br>4.1.3          执行命令 mount -t iso9660 /dev/cdrom /mnt/cdrom<br>命令执行后/mnt/cdrom下将产生光盘下面的文件<br>4.1.4          进入光盘Server目录下  cd /mnt/cdrom/Server</p>
<p>由于缺失的包之间有严格的依赖关系，所以必须按照如下顺序安装缺失的包</p>
<pre><code>rpm -Uvh compat-db-4*
rpm -Uvh libaio-0*
rpm -Uvh compat-libstdc++-33-3*
rpm -Uvh glibc-headers-2.5-12.i386.rpm
rpm -Uvh glibc-devel-2.5-12.i386.rpm
rpm -Uvh compat-gcc-34-3*
rpm -Uvh compat-gcc-34-c++-3*
rpm -Uvh libXp-1*
rpm -Uvh openmotif-2*
rpm -Uvh gcc-4*
rpm -Uvh glibc-2.5-12.i686.rpm
rpm -Uvh libgomp-4.1.1-52.el5.i386.rpm
rpm -Uvh gcc-4.1.1-52.el5.i386.rpm
</code></pre><p>安装完成后仍然提示部分包没有安装，不过不影响使用</p>
<pre><code>package compat-gcc is not installed
package compat-gcc-c++ is not installed
package compat-libstdc++ is not installed
package compat-libstdc++-devel is not installed
</code></pre><p>4.2    </p>
<pre><code>vi /etc/sysctl.conf file
kernel.shmall = 2097152
kernel.shmmax = 2147483648
kernel.shmmni = 4096
# semaphores: semmsl, semmns, semopm, semmni
kernel.sem = 250 32000 100 128
fs.file-max = 65536
net.ipv4.ip_local_port_range = 1024 65000
net.core.rmem_default=262144
net.core.rmem_max=262144
net.core.wmem_default=262144
net.core.wmem_max=262144
运行下面命令使设置生效/sbin/sysctl -p
</code></pre><p>4.3     </p>
<pre><code>vi /etc/security/limits.conf vf
* soft nproc 2047
* hard nproc 16384
* soft nofile 1024
* hard nofile 65536
</code></pre><p>4.4<br>    vi /etc/pam.d/login<br>    session required /lib/security/pam_limits.so</p>
<p>4.5<br>    vi /etc/selinux/config</p>
<pre><code># This file controls the state of SELinux on the system.
# SELINUX= can take one of these three values:
# enforcing - SELinux security policy is enforced.
# permissive - SELinux prints warnings instead of enforcing.
# disabled - SELinux is fully disabled.
SELINUX=disabled
# SELINUXTYPE= type of policy in use. Possible values are:
# targeted - Only targeted network daemons are protected.
# strict - Full SELinux protection.
#SELINUXTYPE=targeted
SELINUXTYPE=disabled
</code></pre><p>4.6     添加oracle用户和组</p>
<pre><code>groupadd oinstall
groupadd dba
groupadd oper
useradd –m -g oinstall -G dba oracle
passwd oracle
</code></pre><p>4.7     创建安装目录并赋予oracle相应权限</p>
<pre><code>mkdir -p /u01/app/oracle/product/10.2.0/db_1
chown -R oracle:oinstall /u01
chmod -R 775 /u01
</code></pre><p>4.8     添加访问控制列表</p>
<pre><code>xhost + machine-name
</code></pre><p>4.9     设置主机名和IP</p>
<pre><code>vi /etc/hosts
删除文件内容，添加如下两行
127.0.0.1    localhost
IP地址      主机名称
</code></pre><p>如果不添加第一行，安装以后数据库可以打开，通过<a href="http://ip:1158/em" target="_blank" rel="external">http://ip:1158/em</a>访问  控制台发现数据库和监听器均无法启动（箭头指向下）以管理员帐号进入em，页面提示Network Adapter error，如果通过命令lsnrctl start提示如下错误</p>
<pre><code>LSNRCTL for Linux: Version 10.2.0.1.0 - Production on 17-OCT-2007 15:35:07
Copyright (c) 1991, 2005, Oracle.  All rights reserved.
Starting .......
................
Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=olivenan)(PORT=1521)))
Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC0)))
Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=olivenan)(PORT=1521)))
TNS-12547: TNS:lost contact
TNS-12560: TNS:protocol adapter error
TNS-00517: Lost contact
Linux Error: 104: Connection reset by peer
Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=IPC)(KEY=EXTPROC0)))
TNS-12541: TNS:no listener
TNS-12560: TNS:protocol adapter error
TNS-00511: No listener
Linux Error: 111: Connection refused
</code></pre><p>4.10  修改redhat版本</p>
<pre><code>vi /etc/redhat-release
Red Hat Enterprise Linux Server release 5 (Tikanga) 替换成 redhat-4
</code></pre><p>4.11  修改oracle的环境变量</p>
<pre><code>su - oracle
vi ~/.bash_profile
# Oracle Settings
TMP=/tmp; export TMP
TMPDIR=$TMP; export TMPDIR
ORACLE_BASE=/u01/app/oracle; export ORACLE_BASE
ORACLE_HOME=$ORACLE_BASE/product/10.2.0/db_1
export ORACLE_HOME
ORACLE_SID=orcl
export ORACLE_SID
ORACLE_TERM=xterm
export ORACLE_TERM
PATH=/usr/sbin:$PATH
PATH=$ORACLE_HOME/bin:$PATH
export PATH
LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib
export LD_LIBRARY_PATH
CLASSPATH=$ORACLE_HOME/JRE:$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib
export CLASSPATH
#LD_ASSUME_KERNEL=2.4.1; export LD_ASSUME_KERNEL
if [ $USER = &quot;oracle&quot; ]; then
if [ $SHELL = &quot;/bin/ksh&quot; ]; then
ulimit -p 16384
ulimit -n 65536
else
ulimit -u 16384 -n 65536
fi
fi
export LANG=en_US.utf8
export LANGUAGE=en_US.utf8
export NLS_LANG=&quot;Simplified Chinese_China.UTF8&quot;
export LC_ALL=en_US.utf8
</code></pre><p>4.13  安装<br>以oracle用户登录系统，打开终端将当前位置定位到database中</p>
<pre><code>Unset LANG
./runInstaller.sh
</code></pre><p>如果之前的包按照要求安装完成，安装过程应该很顺利，如果安装进度在63%左右出现错误，如提示遇到问题需要重试，忽略等等，一般就是系统要求的包没有安装完全。</p>
<p>安装完成后重启机子，登录oracle 打开终端</p>
<pre><code>sqlplus ‘/as sysdba&apos;
</code></pre><p>启动数据库</p>
<pre><code>startup
</code></pre><p>启动控制台</p>
<pre><code>emctl start dbconsole
</code></pre><p>启动监听器</p>
<pre><code>lsnrctl start
</code></pre><p><a href="http://ip:1158/em" target="_blank" rel="external">http://ip:1158/em</a></p>
<p>4.14  后修改vi /etc/redhat-release 内容为Red Hat Enterprise Linux Server release 5 (Tikanga)<br>4.15  设置开机启动</p>
<pre><code>vi /etc/oratab
orcl:/u01/app/oracle/product/10.2.0/db_1:Y
</code></pre><p>安装完后一般常见问题：</p>
<p>1修改/etc/hosts 文件将127.0.0.1改为你的ip 否则网络检查通不过</p>
<p>2 依次安装下面的包 libXp-1.0.0-8.i386.rpm openmotif22-2.2.3-18.i386.rpm compat-db-4.2.52-5.1.i386.rpm compat-gcc-34-3.4.6-4.i386.rpm compat-gcc-34-c++-3.4.6-4.i386.rpm compat-libstdc++-33-3.2.3-61.i386.rpm libaio-0.3.106-3.2.i386.rpm</p>
<p>3 因为中文有乱码所以设置用英文安装 export LC_ALL=en_US</p>
<p>4 在安装过程中选择高级安装，并将数据库语言选中文 字符集选GBK的</p>
<p>可以不用安装的包</p>
<pre><code>package compat-gcc is not installed
package compat-gcc-c++ is not installed
package compat-libstdc++ is not installed
package compat-libstdc++-devel is not installed
必须安装的包
gcc-3.4.6-9
make-3.80-6.EL4
binutils-2.15.92.0.2-24
openmotif-2.2.3-10.1.el4
setarch-1.6-1
compat-db-4.1.25-9
</code></pre><p>5,关闭之后数据库启动不起来 因为安装之后启动的方式是spfile<br>关闭之后启动时利用的init&lt;SID&gt;.ora参数文件<br>解决方法：从ORACLE_HOME/admin/数据库实例名/init.ora2009xxxx 类似的这个文件 重命名 然后放到 ORACLE_HOME/dbs目录下</p>

      
    </div>
    <footer class="article-footer">
      
        <a href="http://longlongblog.cn/2013/11/20/50/#disqus_thread" class="article-comment-link">Comments</a>
		<!-- JiaThis Button BEGIN -->
		<div class="jiathis_style">
			<span class="jiathis_txt">分享到：</span>
			<a class="jiathis_button_qzone">QQ空间</a>
			<a class="jiathis_button_weixin">微信</a>
			<a class="jiathis_button_tsina">新浪微博</a>
			<a class="jiathis_button_tqq">腾讯微博</a>
			<a href="http://www.jiathis.com/share?uid=2101388" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank">更多</a>
			<a class="jiathis_counter_style"></a>
		</div>
		<script type="text/javascript">
		var jiathis_config = {data_track_clickback:'true'};
		</script>
		<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=2101388" charset="utf-8"></script>
		<!-- JiaThis Button END -->
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/学习/">学习</a></li></ul>

    </footer>

	
	 <section id="comments">
	<div id="ds-thread" class="ds-thread" data-thread-key="2013/11/20/50/" data-title="Redhat4安装Oracle10注意事项" data-url="http://longlongblog.cn/2013/11/20/50/"></div>

	<script type="text/javascript">
	var duoshuoQuery = {short_name:"longlongblog"};
		(function() {
			var ds = document.createElement('script');
			ds.type = 'text/javascript';ds.async = true;
			ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
			ds.charset = 'UTF-8';
			(document.getElementsByTagName('head')[0] 
			 || document.getElementsByTagName('body')[0]).appendChild(ds);
		})();
		</script>
	  </section>
	
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2013/11/22/32/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          生活小记
        
      </div>
    </a>
  
  
    <a href="/2013/11/20/53/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">ubuntu备份与恢复</div>
    </a>
  
</nav>

  
</article></section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类文章</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NodeJs/">NodeJs</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Note/">Note</a><span class="category-list-count">30</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SQL/">SQL</a><span class="category-list-count">5</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">文章档案</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">六月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">二月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">一月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">十二月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">十一月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">九月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">八月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">四月 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">三月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/01/">一月 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">十二月 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">十一月 2013</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">十月 2013</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">九月 2013</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">八月 2013</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/学习/" style="font-size: 20px;">学习</a> <a href="/tags/感悟/" style="font-size: 10px;">感悟</a> <a href="/tags/生活/" style="font-size: 10px;">生活</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/05/25/4/">(no title)</a>
          </li>
        
          <li>
            <a href="/2015/06/30/5/">不知从何说起</a>
          </li>
        
          <li>
            <a href="/2015/06/26/8/">一意孤行</a>
          </li>
        
          <li>
            <a href="/2015/05/07/20/">定时自动启动任务crontab命令用法</a>
          </li>
        
          <li>
            <a href="/2015/05/06/49/">PHP的魔术方法</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Dragon_SZ<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>